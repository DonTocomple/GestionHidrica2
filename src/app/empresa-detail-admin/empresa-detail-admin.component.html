<h2>Lista de Empresas</h2>

<ul class="list-group">
  <li *ngFor="let empresa of empresas; let i = index" class="list-group-item">
    <div class="accordion" id="accordionExample">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                  [attr.data-bs-target]="'#collapseOne-' + i" aria-expanded="false"
                  [attr.aria-controls]="'collapseOne-' + i">
            {{ empresa }}
          </button>
        </h2>
        <div id="collapseOne-{{ i }}" class="accordion-collapse collapse" [ngClass]="{'show': false}"
             [attr.aria-labelledby]="'headingOne-' + i">
          <div class="accordion-body">
            <div class="row">
              <div *ngFor="let grafico of empresaGraficos[empresa]; let j = index" class="form-check form-check-inline col-sm-3">
                <input class="form-check-input" type="checkbox" [id]="'checkbox' + i + '-' + j"
                       [(ngModel)]="empresaGraficos[empresa][j].isSelected" (change)="onCheckboxChange(empresa)">
                <label class="form-check-label" [for]="'checkbox' + i + '-' + j">{{ grafico.texto }}</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </li>
</ul>

<!-- BotÃ³n para guardar los datos -->
<button (click)="guardarDatos()" class="btn btn-primary mt-3">Guardar Datos</button>
